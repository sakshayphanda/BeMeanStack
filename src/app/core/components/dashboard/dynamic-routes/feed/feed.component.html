<div class="container">
<div class="feeds">
  <div class="feeds__input">
    <input type="text" [value]="postText ? postText : null" placeholder="Write something you wish to share"
      (change)="postText = $event.target.value" />
    <div style="width: 50%;height: 20%; display: flex; justify-content: center" *ngIf="imagePreview">
      <img style="width: 50%; height: 100%" [src]="imagePreview">
    </div>
  </div>
  <div class="feeds__button">
    <input class="file-button" [value]="imagePreview" name="image" type="file" (change)="imageFile($event)">
    <button mat-flat-button color="primary" (click)="postCreate()">Post</button>
  </div>
</div>

<ng-container *ngFor="let post of posts; let i = index">
  <div class="posts">
    <div class="name">
      <img [src]="post?.user?.photoUrl" />
      {{ post?.user?.displayName }}
      <button class="btn btn-primary" style="margin: 10px 10px 10px auto" *ngIf ="post.user._id === authService.userDetails._id" (click)="deletePost(post._id, i)">Delete</button>
    </div>
    <p class="text">{{ post.text }}</p>
    <div class="image">
      <img *ngIf="post?.imageUrl" [src]="post.imageUrl">
    </div>
  </div>
</ng-container>

</div>
